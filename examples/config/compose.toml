listen = "0.0.0.0:7000"
mode = "forward"
peek_http = true
balancing = "none"

backends = [
  { address = "backend-b:9000" } # default
]

[http]
max_peek_bytes = 8192
routes = [
  { prefix = "/api", backend = "backend-a:9000" },
  { prefix = "/", backend = "backend-b:9000" }
]

[timeouts]
connect_ms = 1000
idle_ms = 5000

[telemetry]
basic_metrics = true
metrics_addr = "0.0.0.0:9900"
log_level = "info"

